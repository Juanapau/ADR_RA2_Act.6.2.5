
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulador Base de Datos - Sistema de Compras</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
            color: #fff;
            padding: 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            margin-bottom: 30px;
            padding: 30px;
            background: linear-gradient(135deg, #c41e3a 0%, #8b0000 100%);
            border-radius: 15px;
            box-shadow: 0 8px 20px rgba(196, 30, 58, 0.3);
        }

        header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        header p {
            font-size: 1.1em;
            opacity: 0.95;
        }

        .progress-bar {
            background: #333;
            border-radius: 10px;
            height: 40px;
            margin: 20px 0;
            overflow: hidden;
            position: relative;
        }

        .progress-fill {
            background: linear-gradient(90deg, #c41e3a 0%, #ff4057 100%);
            height: 100%;
            width: 0%;
            transition: width 0.5s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        .steps-container {
            display: grid;
            gap: 20px;
        }

        .step {
            background: #2a2a2a;
            border-radius: 12px;
            padding: 25px;
            border-left: 5px solid #c41e3a;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
            transition: all 0.3s ease;
        }

        .step.active {
            border-left-color: #ff4057;
            box-shadow: 0 6px 25px rgba(196, 30, 58, 0.4);
        }

        .step.completed {
            border-left-color: #4CAF50;
            opacity: 0.85;
        }

        .step-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 20px;
        }

        .step-title {
            display: flex;
            align-items: center;
            gap: 15px;
            flex: 1;
        }

        .step-number {
            background: #c41e3a;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.2em;
        }

        .step.completed .step-number {
            background: #4CAF50;
        }

        .step-status {
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: bold;
        }

        .status-pending {
            background: #555;
            color: #ccc;
        }

        .status-active {
            background: #c41e3a;
            color: #fff;
        }

        .status-completed {
            background: #4CAF50;
            color: #fff;
        }

        .table-designer {
            background: #333;
            border-radius: 8px;
            padding: 20px;
            margin: 15px 0;
        }

        .field-input {
            display: grid;
            grid-template-columns: 2fr 2fr 1fr 1fr auto;
            gap: 10px;
            margin-bottom: 10px;
            align-items: center;
        }

        input, select {
            padding: 10px;
            border: 2px solid #555;
            border-radius: 6px;
            background: #2a2a2a;
            color: #fff;
            font-size: 0.95em;
        }

        input:focus, select:focus {
            outline: none;
            border-color: #c41e3a;
        }

        button {
            padding: 10px 20px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
            font-size: 0.95em;
        }

        .btn-add {
            background: #c41e3a;
            color: white;
        }

        .btn-add:hover {
            background: #ff4057;
            transform: translateY(-2px);
        }

        .btn-remove {
            background: #555;
            color: white;
            padding: 8px 12px;
        }

        .btn-remove:hover {
            background: #777;
        }

        .btn-next {
            background: linear-gradient(135deg, #c41e3a 0%, #8b0000 100%);
            color: white;
            padding: 12px 30px;
            font-size: 1.1em;
            margin-top: 15px;
        }

        .btn-next:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(196, 30, 58, 0.4);
        }

        .btn-next:disabled {
            background: #555;
            cursor: not-allowed;
            transform: none;
        }

        .fields-list {
            margin-top: 15px;
        }

        .field-item {
            background: #2a2a2a;
            padding: 12px;
            margin-bottom: 8px;
            border-radius: 6px;
            display: grid;
            grid-template-columns: 2fr 2fr 1fr 1fr auto;
            gap: 10px;
            align-items: center;
        }

        .field-item span {
            padding: 6px 10px;
            background: #1a1a1a;
            border-radius: 4px;
            font-size: 0.9em;
        }

        .badge {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.8em;
            font-weight: bold;
        }

        .badge-pk {
            background: #ff9800;
            color: #000;
        }

        .badge-fk {
            background: #2196F3;
            color: #fff;
        }

        .data-entry {
            background: #333;
            border-radius: 8px;
            padding: 20px;
            margin: 15px 0;
        }

        .data-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 10px;
            margin-bottom: 15px;
        }

        .data-item {
            background: #2a2a2a;
            padding: 15px;
            border-radius: 6px;
            border-left: 3px solid #c41e3a;
        }

        .data-item h4 {
            color: #c41e3a;
            margin-bottom: 8px;
            font-size: 0.9em;
        }

        .data-item p {
            font-size: 1em;
            color: #fff;
        }

        .relationship-diagram {
            background: #333;
            border-radius: 8px;
            padding: 30px;
            margin: 15px 0;
            text-align: center;
        }

        .diagram-container {
            display: flex;
            justify-content: space-around;
            align-items: center;
            flex-wrap: wrap;
            gap: 30px;
            margin: 20px 0;
        }

        .table-box {
            background: #2a2a2a;
            border: 3px solid #c41e3a;
            border-radius: 8px;
            padding: 20px;
            min-width: 200px;
        }

        .table-box h3 {
            color: #c41e3a;
            margin-bottom: 15px;
            font-size: 1.2em;
        }

        .table-box ul {
            list-style: none;
            text-align: left;
        }

        .table-box li {
            padding: 5px 0;
            font-size: 0.9em;
        }

        .arrow {
            font-size: 3em;
            color: #c41e3a;
            font-weight: bold;
        }

        .relationship-label {
            background: #c41e3a;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: bold;
            margin: 10px 0;
        }

        .summary-section {
            background: #333;
            border-radius: 8px;
            padding: 25px;
            margin: 15px 0;
        }

        .summary-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .summary-card {
            background: #2a2a2a;
            padding: 20px;
            border-radius: 8px;
            border-top: 4px solid #c41e3a;
        }

        .summary-card h3 {
            color: #c41e3a;
            margin-bottom: 15px;
        }

        .summary-card .number {
            font-size: 3em;
            font-weight: bold;
            color: #fff;
        }

        .alert {
            background: #ff9800;
            color: #000;
            padding: 15px;
            border-radius: 6px;
            margin: 15px 0;
            font-weight: bold;
        }

        .success {
            background: #4CAF50;
            color: #fff;
        }

        .sql-box {
            background: #1a1a1a;
            border: 2px solid #4CAF50;
            border-radius: 8px;
            padding: 20px;
            margin-top: 15px;
        }

        .sql-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .sql-code {
            background: #0a0a0a;
            padding: 15px;
            border-radius: 6px;
            color: #4CAF50;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            line-height: 1.6;
            margin: 0;
        }

        @media (max-width: 768px) {
            .field-input, .field-item {
                grid-template-columns: 1fr;
            }

            .diagram-container {
                flex-direction: column;
            }

            header h1 {
                font-size: 1.8em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üóÑÔ∏è Simulador de Base de Datos</h1>
            <p>Sistema de Gesti√≥n de Compras - Productos y Clientes</p>
            <p style="font-size: 0.9em; margin-top: 10px; opacity: 0.9;">Centro Educativo Nuestra Sra. De la Altagracia</p>
            <div id="studentInfoDisplay" style="margin-top: 15px; padding: 15px; background: rgba(0,0,0,0.2); border-radius: 8px; display: none;">
                <p style="margin: 5px 0; font-size: 0.95em;"><strong>Estudiante:</strong> <span id="displayName"></span></p>
                <p style="margin: 5px 0; font-size: 0.95em;"><strong>Curso:</strong> <span id="displayCourse"></span></p>
                <p style="margin: 5px 0; font-size: 0.95em;"><strong>Fecha:</strong> <span id="displayDate"></span></p>
            </div>
        </header>

        <div class="progress-bar">
            <div class="progress-fill" id="progressBar">0%</div>
        </div>

        <div class="steps-container" id="stepsContainer">
            <!-- Los pasos se generar√°n din√°micamente -->
        </div>
    </div>

    <script>
        // Estado de la aplicaci√≥n
        const appState = {
            currentStep: 0,
            studentInfo: {
                name: '',
                course: '',
                date: ''
            },
            infoCompleted: false,
            tables: {
                productos: [],
                clientes: [],
                compras: []
            },
            dataEntries: {
                productos: [],
                clientes: [],
                compras: []
            }
        };

        // Definici√≥n de pasos
        const steps = [
            {
                title: "Dise√±ar Tabla PRODUCTOS",
                description: "Crea la tabla Productos con todos sus campos requeridos",
                points: 0.25,
                requiredFields: [
                    { name: "ID_Producto", constraint: "primary" },
                    { name: "C√≥digo_Producto", constraint: "none" },
                    { name: "Nombre_Producto", constraint: "none" },
                    { name: "Descripci√≥n", constraint: "none" },
                    { name: "Precio_Unitario", constraint: "none" },
                    { name: "Unidad_Medida", constraint: "none" },
                    { name: "Stock_Disponible", constraint: "none" },
                    { name: "Categor√≠a", constraint: "none" },
                    { name: "Proveedor", constraint: "none" }
                ],
                validate: () => validateTable('productos', steps[0].requiredFields)
            },
            {
                title: "Dise√±ar Tabla CLIENTES",
                description: "Crea la tabla Clientes con todos sus campos requeridos",
                points: 0.25,
                requiredFields: [
                    { name: "ID_Cliente", constraint: "primary" },
                    { name: "C√≥digo_Cliente", constraint: "none" },
                    { name: "Nombre_Completo", constraint: "none" },
                    { name: "Empresa", constraint: "none" },
                    { name: "Email", constraint: "none" },
                    { name: "Tel√©fono", constraint: "none" },
                    { name: "Direcci√≥n", constraint: "none" },
                    { name: "Ciudad", constraint: "none" },
                    { name: "Tipo_Cliente", constraint: "none" }
                ],
                validate: () => validateTable('clientes', steps[1].requiredFields)
            },
            {
                title: "Dise√±ar Tabla COMPRAS (Intermedia)",
                description: "Crea la tabla intermedia Compras con claves for√°neas",
                points: 0.30,
                requiredFields: [
                    { name: "ID_Compra", constraint: "primary" },
                    { name: "ID_Cliente", constraint: "foreign" },
                    { name: "ID_Producto", constraint: "foreign" },
                    { name: "Fecha_Compra", constraint: "none" },
                    { name: "Cantidad", constraint: "none" },
                    { name: "Precio_Total", constraint: "none" },
                    { name: "Estado", constraint: "none" }
                ],
                validate: () => validateTable('compras', steps[2].requiredFields)
            },
            {
                title: "Establecer Relaciones",
                description: "Define las relaciones entre las tablas (uno a muchos)",
                points: 0.30,
                type: "relationship",
                validate: () => true
            },
            {
                title: "Insertar Productos",
                description: "Agrega 2 productos de ejemplo",
                points: 0.30,
                type: "data",
                tableName: "productos",
                requiredCount: 2,
                validate: () => appState.dataEntries.productos.length >= 2
            },
            {
                title: "Insertar Clientes",
                description: "Agrega 2 clientes de ejemplo",
                points: 0.30,
                type: "data",
                tableName: "clientes",
                requiredCount: 2,
                validate: () => appState.dataEntries.clientes.length >= 2
            },
            {
                title: "Registrar Compras",
                description: "Registra al menos 2 compras",
                points: 0.30,
                type: "data",
                tableName: "compras",
                requiredCount: 2,
                validate: () => appState.dataEntries.compras.length >= 2
            },
            {
                title: "Resumen Final",
                description: "Revisa tu base de datos completada",
                points: 0,
                type: "summary",
                validate: () => true
            }
        ];

        // Generar PDF con resultados
        async function generatePDF() {
            const score = calculateScore();
            const date = new Date(appState.studentInfo.date).toLocaleDateString('es-DO', { 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric'
            });
            const currentDateTime = new Date().toLocaleString('es-DO', {
                year: 'numeric', 
                month: 'long', 
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit'
            });
            
            // Crear contenido HTML para el PDF
            const content = `
                <!DOCTYPE html>
                <html>
                <head>
                    <meta charset="UTF-8">
                    <style>
                        body { font-family: Arial, sans-serif; padding: 40px; }
                        .header { text-align: center; border-bottom: 3px solid #c41e3a; padding-bottom: 20px; margin-bottom: 30px; }
                        .header h1 { color: #c41e3a; margin: 0; font-size: 28px; }
                        .header p { color: #666; margin: 5px 0; }
                        .student-info { background: #f5f5f5; padding: 20px; border-radius: 8px; margin: 20px 0; border-left: 5px solid #c41e3a; }
                        .student-info p { margin: 8px 0; font-size: 16px; }
                        .student-info strong { color: #c41e3a; }
                        .score-box { background: linear-gradient(135deg, #c41e3a 0%, #8b0000 100%); color: white; padding: 30px; border-radius: 10px; text-align: center; margin: 30px 0; }
                        .score-box h2 { margin: 0; font-size: 48px; }
                        .score-box p { margin: 10px 0 0 0; font-size: 18px; }
                        .section { margin: 30px 0; }
                        .section h3 { color: #c41e3a; border-bottom: 2px solid #c41e3a; padding-bottom: 10px; }
                        .step-item { background: #f5f5f5; padding: 15px; margin: 10px 0; border-radius: 5px; display: flex; justify-content: space-between; align-items: center; }
                        .step-item .title { font-weight: bold; }
                        .step-item .points { background: #4CAF50; color: white; padding: 5px 15px; border-radius: 20px; font-weight: bold; }
                        .data-section { margin: 20px 0; }
                        .data-section h4 { color: #666; margin: 15px 0 10px 0; }
                        .data-table { width: 100%; border-collapse: collapse; margin: 10px 0; }
                        .data-table th { background: #c41e3a; color: white; padding: 10px; text-align: left; }
                        .data-table td { padding: 8px; border-bottom: 1px solid #ddd; }
                        .footer { margin-top: 50px; text-align: center; color: #666; font-size: 12px; border-top: 1px solid #ddd; padding-top: 20px; }
                    </style>
                </head>
                <body>
                    <div class="header">
                        <h1>üóÑÔ∏è Simulador de Base de Datos</h1>
                        <p>Sistema de Gesti√≥n de Compras - Productos y Clientes</p>
                        <p>Centro Educativo Nuestra Sra. De la Altagracia</p>
                        <p style="margin-top: 15px; font-weight: bold;">Generado: ${currentDateTime}</p>
                    </div>

                    <div class="student-info">
                        <p><strong>Estudiante:</strong> ${appState.studentInfo.name}</p>
                        <p><strong>Curso:</strong> ${appState.studentInfo.course}</p>
                        <p><strong>Fecha de realizaci√≥n:</strong> ${date}</p>
                    </div>

                    <div class="score-box">
                        <h2>‚≠ê ${score.current} / ${score.max}</h2>
                        <p>Puntos Obtenidos</p>
                    </div>

                    <div class="section">
                        <h3>üìä Desglose de Puntuaci√≥n</h3>
                        ${steps.map((step, index) => `
                            <div class="step-item">
                                <div>
                                    <div class="title">${index + 1}. ${step.title}</div>
                                    <div style="color: #666; font-size: 14px;">${step.description}</div>
                                </div>
                                <div class="points">${index <= appState.currentStep ? '‚úì ' : ''}${step.points > 0 ? step.points.toFixed(2) + ' ptos' : 'Resumen'}</div>
                            </div>
                        `).join('')}
                    </div>

                    <div class="section">
                        <h3>üìã Estructura de Base de Datos Creada</h3>
                        
                        <div class="data-section">
                            <h4>Tabla PRODUCTOS (${appState.tables.productos.length} campos)</h4>
                            <table class="data-table">
                                <tr><th>Campo</th><th>Tipo</th><th>Restricci√≥n</th></tr>
                                ${appState.tables.productos.map(f => `
                                    <tr>
                                        <td>${f.name}</td>
                                        <td>${f.type}</td>
                                        <td>${f.constraint === 'primary' ? 'Clave Primaria' : f.constraint === 'foreign' ? 'Clave For√°nea' : 'Ninguna'}</td>
                                    </tr>
                                `).join('')}
                            </table>
                        </div>

                        <div class="data-section">
                            <h4>Tabla CLIENTES (${appState.tables.clientes.length} campos)</h4>
                            <table class="data-table">
                                <tr><th>Campo</th><th>Tipo</th><th>Restricci√≥n</th></tr>
                                ${appState.tables.clientes.map(f => `
                                    <tr>
                                        <td>${f.name}</td>
                                        <td>${f.type}</td>
                                        <td>${f.constraint === 'primary' ? 'Clave Primaria' : f.constraint === 'foreign' ? 'Clave For√°nea' : 'Ninguna'}</td>
                                    </tr>
                                `).join('')}
                            </table>
                        </div>

                        <div class="data-section">
                            <h4>Tabla COMPRAS (${appState.tables.compras.length} campos)</h4>
                            <table class="data-table">
                                <tr><th>Campo</th><th>Tipo</th><th>Restricci√≥n</th></tr>
                                ${appState.tables.compras.map(f => `
                                    <tr>
                                        <td>${f.name}</td>
                                        <td>${f.type}</td>
                                        <td>${f.constraint === 'primary' ? 'Clave Primaria' : f.constraint === 'foreign' ? 'Clave For√°nea' : 'Ninguna'}</td>
                                    </tr>
                                `).join('')}
                            </table>
                        </div>
                    </div>

                    <div class="section">
                        <h3>üìä Datos Registrados</h3>
                        <p><strong>Productos:</strong> ${appState.dataEntries.productos.length} registros</p>
                        <p><strong>Clientes:</strong> ${appState.dataEntries.clientes.length} registros</p>
                        <p><strong>Compras:</strong> ${appState.dataEntries.compras.length} registros</p>
                    </div>

                    <div class="footer">
                        <p>Documento generado autom√°ticamente por el Simulador de Base de Datos</p>
                        <p>Centro Educativo Nuestra Sra. De la Altagracia - Desarrollo y Administraci√≥n de Aplicaciones Inform√°ticas</p>
                    </div>
                </body>
                </html>
            `;

            // Abrir en nueva ventana para imprimir como PDF
            const printWindow = window.open('', '_blank');
            printWindow.document.write(content);
            printWindow.document.close();
            
            // Esperar a que cargue y luego abrir di√°logo de impresi√≥n
            setTimeout(() => {
                printWindow.print();
            }, 500);
        }

        // Calcular puntuaci√≥n
        function calculateScore() {
            let totalScore = 0;
            let maxScore = 2.0;
            
            steps.forEach((step, index) => {
                if (index <= appState.currentStep) {
                    totalScore += step.points;
                }
            });
            
            return { current: totalScore.toFixed(2), max: maxScore.toFixed(2) };
        }

        // Inicializar aplicaci√≥n
        function init() {
            if (!appState.infoCompleted) {
                showStudentInfoPanel();
            } else {
                renderSteps();
                updateProgress();
            }
        }

        // Mostrar panel de informaci√≥n del estudiante
        function showStudentInfoPanel() {
            const container = document.getElementById('stepsContainer');
            container.innerHTML = `
                <div style="max-width: 600px; margin: 0 auto;">
                    <div style="background: #2a2a2a; border-radius: 15px; padding: 40px; box-shadow: 0 8px 20px rgba(0,0,0,0.3);">
                        <h2 style="color: #c41e3a; text-align: center; margin-bottom: 10px; font-size: 2em;">üìù Informaci√≥n del Estudiante</h2>
                        <p style="text-align: center; color: #ccc; margin-bottom: 30px;">Por favor completa los siguientes datos antes de comenzar</p>
                        
                        <div style="margin-bottom: 25px;">
                            <label style="display: block; margin-bottom: 8px; color: #c41e3a; font-weight: bold; font-size: 1.1em;">
                                Nombre Completo:
                            </label>
                            <input 
                                type="text" 
                                id="studentName" 
                                placeholder="Ej: Juan P√©rez Garc√≠a"
                                style="width: 100%; padding: 15px; font-size: 1em; border: 2px solid #555; border-radius: 8px; background: #1a1a1a; color: #fff;"
                                value="${appState.studentInfo.name}"
                            >
                        </div>

                        <div style="margin-bottom: 25px;">
                            <label style="display: block; margin-bottom: 8px; color: #c41e3a; font-weight: bold; font-size: 1.1em;">
                                Curso:
                            </label>
                            <input 
                                type="text" 
                                id="studentCourse" 
                                placeholder="Ej: 3ro Secundaria - Inform√°tica"
                                style="width: 100%; padding: 15px; font-size: 1em; border: 2px solid #555; border-radius: 8px; background: #1a1a1a; color: #fff;"
                                value="${appState.studentInfo.course}"
                            >
                        </div>

                        <div style="margin-bottom: 30px;">
                            <label style="display: block; margin-bottom: 8px; color: #c41e3a; font-weight: bold; font-size: 1.1em;">
                                Fecha:
                            </label>
                            <input 
                                type="date" 
                                id="studentDate" 
                                style="width: 100%; padding: 15px; font-size: 1em; border: 2px solid #555; border-radius: 8px; background: #1a1a1a; color: #fff;"
                                value="${appState.studentInfo.date || new Date().toISOString().split('T')[0]}"
                            >
                        </div>

                        <button 
                            onclick="saveStudentInfo()" 
                            style="width: 100%; padding: 15px; background: linear-gradient(135deg, #c41e3a 0%, #8b0000 100%); color: white; border: none; border-radius: 8px; font-size: 1.2em; font-weight: bold; cursor: pointer; transition: all 0.3s ease;"
                            onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 6px 20px rgba(196, 30, 58, 0.4)'"
                            onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='none'"
                        >
                            Comenzar Actividad ‚Üí
                        </button>
                    </div>
                </div>
            `;
        }

        // Guardar informaci√≥n del estudiante
        function saveStudentInfo() {
            const name = document.getElementById('studentName').value.trim();
            const course = document.getElementById('studentCourse').value.trim();
            const date = document.getElementById('studentDate').value;

            if (!name) {
                alert('‚ö†Ô∏è Por favor ingresa tu nombre completo');
                return;
            }

            if (!course) {
                alert('‚ö†Ô∏è Por favor ingresa tu curso');
                return;
            }

            if (!date) {
                alert('‚ö†Ô∏è Por favor selecciona la fecha');
                return;
            }

            appState.studentInfo = { name, course, date };
            appState.infoCompleted = true;

            // Mostrar informaci√≥n en el header
            document.getElementById('displayName').textContent = name;
            document.getElementById('displayCourse').textContent = course;
            document.getElementById('displayDate').textContent = new Date(date).toLocaleDateString('es-DO', { 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            });
            document.getElementById('studentInfoDisplay').style.display = 'block';

            renderSteps();
            updateProgress();
        }

        // Renderizar pasos
        function renderSteps() {
            const container = document.getElementById('stepsContainer');
            container.innerHTML = '';

            steps.forEach((step, index) => {
                const stepDiv = document.createElement('div');
                stepDiv.className = `step ${index === appState.currentStep ? 'active' : ''} ${index < appState.currentStep ? 'completed' : ''}`;
                stepDiv.innerHTML = `
                    <div class="step-header">
                        <div class="step-title">
                            <div class="step-number">${index + 1}</div>
                            <div>
                                <h2>${step.title}</h2>
                                <p style="color: #ccc; margin-top: 5px;">${step.description}</p>
                            </div>
                        </div>
                        <div style="display: flex; align-items: center; gap: 15px;">
                            <div style="background: ${index < appState.currentStep ? '#4CAF50' : '#c41e3a'}; padding: 8px 16px; border-radius: 20px; font-weight: bold;">
                                ${step.points > 0 ? step.points.toFixed(2) + ' ptos' : 'Resumen'}
                            </div>
                            <div class="step-status ${index < appState.currentStep ? 'status-completed' : index === appState.currentStep ? 'status-active' : 'status-pending'}">
                                ${index < appState.currentStep ? '‚úì Completado' : index === appState.currentStep ? 'En Progreso' : 'Pendiente'}
                            </div>
                        </div>
                    </div>
                    <div id="stepContent${index}"></div>
                `;
                container.appendChild(stepDiv);

                if (index === appState.currentStep) {
                    renderStepContent(index);
                }
            });
        }

        // Renderizar contenido del paso actual
        function renderStepContent(stepIndex) {
            const step = steps[stepIndex];
            const contentDiv = document.getElementById(`stepContent${stepIndex}`);

            if (step.type === 'relationship') {
                renderRelationshipStep(contentDiv);
            } else if (step.type === 'data') {
                renderDataStep(contentDiv, step);
            } else if (step.type === 'summary') {
                renderSummaryStep(contentDiv);
            } else {
                renderTableDesignStep(contentDiv, step, stepIndex);
            }
        }

        // Renderizar paso de dise√±o de tabla
        function renderTableDesignStep(container, step, stepIndex) {
            const tableName = stepIndex === 0 ? 'productos' : stepIndex === 1 ? 'clientes' : 'compras';
            
            container.innerHTML = `
                <div class="table-designer">
                    <h3 style="margin-bottom: 20px; color: #c41e3a;">Dise√±o de la Tabla</h3>
                    <div class="field-input" style="font-weight: bold; color: #c41e3a;">
                        <span>Seleccionar Campo</span>
                        <span>Tipo de Dato</span>
                        <span>Restricci√≥n</span>
                        <span></span>
                        <span></span>
                    </div>
                    <div id="fieldInputs${stepIndex}">
                        <div class="field-input">
                            <select id="fieldName${stepIndex}" style="background: #2a2a2a; color: #fff;">
                                <option value="">-- Selecciona un campo --</option>
                            </select>
                            <select id="fieldType${stepIndex}">
                                <option value="autonumerico">Autonum√©rico</option>
                                <option value="texto-corto">Texto Corto</option>
                                <option value="texto-largo">Texto Largo (Memo)</option>
                                <option value="numero">N√∫mero</option>
                                <option value="moneda">Moneda</option>
                                <option value="fecha">Fecha</option>
                                <option value="fecha-hora">Fecha/Hora</option>
                                <option value="si-no">S√≠/No</option>
                                <option value="objeto-ole">Objeto OLE</option>
                                <option value="hipervinculo">Hiperv√≠nculo</option>
                            </select>
                            <select id="fieldConstraint${stepIndex}">
                                <option value="none">Ninguna</option>
                                <option value="primary">Clave Primaria</option>
                                <option value="foreign">Clave For√°nea</option>
                            </select>
                            <button class="btn-add" onclick="addField(${stepIndex}, '${tableName}')">+ Agregar</button>
                        </div>
                    </div>
                    <div class="fields-list" id="fieldsList${stepIndex}"></div>
                </div>
                <div class="alert" id="alertBox${stepIndex}">
                </div>
                <button class="btn-next" onclick="nextStep()" id="btnNext${stepIndex}">Continuar al Siguiente Paso ‚Üí</button>
            `;

            updateAvailableFields(stepIndex, step, tableName);
            renderFieldsList(stepIndex, tableName);
        }

        // Generar SQL de creaci√≥n de tabla
        function generateTableSQL(tableName) {
            const fields = appState.tables[tableName];
            if (fields.length === 0) return '';
            
            const tableNameUpper = tableName.toUpperCase();
            let sql = `CREATE TABLE ${tableNameUpper} (\n`;
            
            const fieldDefinitions = fields.map(field => {
                let def = `    ${field.name} `;
                
                // Para claves for√°neas que referencian autonum√©ricos, usar LONG
                if (field.constraint === 'foreign') {
                    def += 'LONG';
                }
                // Mapeo de tipos de datos a SQL
                else {
                    switch(field.type) {
                        case 'autonumerico':
                            def += 'AUTOINCREMENT';
                            break;
                        case 'texto-corto':
                            def += 'VARCHAR(255)';
                            break;
                        case 'texto-largo':
                            def += 'LONGTEXT';
                            break;
                        case 'numero':
                            def += 'DOUBLE';
                            break;
                        case 'moneda':
                            def += 'CURRENCY';
                            break;
                        case 'fecha':
                            def += 'DATE';
                            break;
                        case 'fecha-hora':
                            def += 'DATETIME';
                            break;
                        case 'si-no':
                            def += 'YESNO';
                            break;
                        case 'objeto-ole':
                            def += 'OLEOBJECT';
                            break;
                        case 'hipervinculo':
                            def += 'HYPERLINK';
                            break;
                        default:
                            def += 'VARCHAR(255)';
                    }
                }
                
                // Agregar restricci√≥n de clave primaria
                if (field.constraint === 'primary') {
                    def += ' PRIMARY KEY';
                }
                
                return def;
            });
            
            sql += fieldDefinitions.join(',\n');
            
            // NO agregar claves for√°neas en el script - el estudiante las crear√° manualmente
            
            sql += '\n);';
            
            return sql;
        }

        // Generar SQL INSERT para los datos
        function generateInsertSQL(tableName) {
            const data = appState.dataEntries[tableName];
            if (data.length === 0) return '';
            
            const tableNameUpper = tableName.toUpperCase();
            const tableFields = appState.tables[tableName];
            
            // Obtener el campo de clave primaria para excluirlo
            const pkField = tableFields.find(f => f.constraint === 'primary');
            
            let sql = '';
            
            // Access requiere instrucciones INSERT separadas, una por registro
            data.forEach((entry, index) => {
                // Filtrar campos: excluir la clave primaria autonum√©rica
                const fields = Object.keys(entry).filter(key => key !== pkField.name);
                const values = fields.map(field => {
                    const val = entry[field];
                    // Si es n√∫mero, no usar comillas
                    if (typeof val === 'number') {
                        return val;
                    }
                    // Si es texto, usar comillas simples y escapar comillas internas
                    return `'${String(val).replace(/'/g, "''")}'`;
                });
                
                sql += `INSERT INTO ${tableNameUpper} (${fields.join(', ')}) VALUES (${values.join(', ')});`;
                
                // Agregar salto de l√≠nea solo si no es el √∫ltimo
                if (index < data.length - 1) {
                    sql += '\n';
                }
            });
            
            return sql;
        }

        // Copiar SQL al portapapeles
        function copySQL(sqlId) {
            const sqlElement = document.getElementById(sqlId);
            const textArea = document.createElement('textarea');
            textArea.value = sqlElement.textContent;
            document.body.appendChild(textArea);
            textArea.select();
            document.execCommand('copy');
            document.body.removeChild(textArea);
            
            // Feedback visual
            const copyBtn = event.target;
            const originalText = copyBtn.textContent;
            copyBtn.textContent = '‚úì Copiado!';
            copyBtn.style.background = '#4CAF50';
            setTimeout(() => {
                copyBtn.textContent = originalText;
                copyBtn.style.background = '';
            }, 2000);
        }

        // Actualizar campos disponibles
        function updateAvailableFields(stepIndex, step, tableName) {
            const select = document.getElementById(`fieldName${stepIndex}`);
            const alertBox = document.getElementById(`alertBox${stepIndex}`);
            const addedFields = appState.tables[tableName].map(f => f.name);
            
            // Obtener campos pendientes
            const pendingFields = step.requiredFields.filter(f => !addedFields.includes(f.name));
            
            // Actualizar selector
            select.innerHTML = '<option value="">-- Selecciona un campo --</option>' +
                pendingFields.map(f => {
                    const constraintText = f.constraint === 'primary' ? ' (PK)' : 
                                         f.constraint === 'foreign' ? ' (FK)' : '';
                    return `<option value="${f.name}" data-constraint="${f.constraint}">${f.name}${constraintText}</option>`;
                }).join('');
            
            // Actualizar cuadro amarillo
            if (pendingFields.length === 0) {
                // Generar SQL
                const sql = generateTableSQL(tableName);
                
                alertBox.innerHTML = `
                    <div class="alert success">
                        ‚úÖ <strong>¬°Tabla Completada!</strong> Todos los campos han sido agregados correctamente.
                    </div>
                    <div style="background: #1a1a1a; border: 2px solid #4CAF50; border-radius: 8px; padding: 20px; margin-top: 15px;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                            <h3 style="color: #4CAF50; margin: 0;">üìù Script SQL para Access</h3>
                            <button class="btn-add" onclick="copySQL('sql${stepIndex}')" style="background: #4CAF50;">
                                üìã Copiar SQL
                            </button>
                        </div>
                        <pre id="sql${stepIndex}" style="background: #0a0a0a; padding: 15px; border-radius: 6px; color: #4CAF50; overflow-x: auto; font-family: 'Courier New', monospace; font-size: 0.9em; line-height: 1.6; margin: 0;">${sql}</pre>
                        <div style="margin-top: 15px; padding: 12px; background: rgba(33, 150, 243, 0.1); border-left: 4px solid #2196F3; border-radius: 4px;">
                            <p style="color: #2196F3; font-size: 0.9em; margin: 0;">
                                <strong>‚ÑπÔ∏è Nota importante:</strong> Las claves for√°neas (FK) se configuran autom√°ticamente como tipo <strong>LONG</strong> (N√∫mero Entero Largo) para que sean compatibles con las claves primarias autonum√©ricas.
                            </p>
                        </div>
                        <p style="margin-top: 15px; color: #ccc; font-size: 0.9em;">
                            üí° <strong>Instrucciones:</strong> Copia este script SQL y p√©galo en la vista SQL de Microsoft Access para crear la tabla autom√°ticamente.
                        </p>
                    </div>
                `;
            } else {
                alertBox.innerHTML = `
                    <strong>üìã Campos Pendientes por Agregar (${pendingFields.length} de ${step.requiredFields.length}):</strong>
                    <div style="margin-top: 10px; display: grid; gap: 8px;">
                        ${pendingFields.map(f => `
                            <div style="background: rgba(0,0,0,0.3); padding: 8px 12px; border-radius: 4px; display: flex; justify-content: space-between; align-items: center;">
                                <span><strong>${f.name}</strong></span>
                                <span style="font-size: 0.9em;">
                                    ${f.constraint === 'primary' ? '<span class="badge badge-pk" style="margin-left: 10px;">Clave Primaria (PK)</span>' : 
                                      f.constraint === 'foreign' ? '<span class="badge badge-fk" style="margin-left: 10px;">Clave For√°nea (FK)</span>' : 
                                      '<span style="opacity: 0.7; margin-left: 10px;">Sin restricci√≥n</span>'}
                                </span>
                            </div>
                        `).join('')}
                    </div>
                    <p style="margin-top: 15px; font-size: 0.95em;">
                        ‚ÑπÔ∏è Selecciona un campo de la lista, elige su tipo de dato y restricci√≥n, luego presiona "Agregar".
                    </p>
                `;
            }
            
            // Auto-seleccionar la restricci√≥n cuando se elige un campo
            select.onchange = function() {
                const selectedOption = this.options[this.selectedIndex];
                const constraint = selectedOption.getAttribute('data-constraint');
                if (constraint) {
                    document.getElementById(`fieldConstraint${stepIndex}`).value = constraint;
                }
            };
        }

        // Agregar campo a tabla
        // Agregar campo a tabla
        function addField(stepIndex, tableName) {
            const nameSelect = document.getElementById(`fieldName${stepIndex}`);
            const typeSelect = document.getElementById(`fieldType${stepIndex}`);
            const constraintSelect = document.getElementById(`fieldConstraint${stepIndex}`);

            const fieldName = nameSelect.value.trim();
            const fieldType = typeSelect.value;
            const fieldConstraint = constraintSelect.value;

            if (!fieldName) {
                alert('Por favor selecciona un campo de la lista');
                return;
            }

            // Verificar si ya existe
            if (appState.tables[tableName].some(f => f.name === fieldName)) {
                alert('Este campo ya fue agregado');
                return;
            }

            appState.tables[tableName].push({
                name: fieldName,
                type: fieldType,
                constraint: fieldConstraint
            });

            // Resetear selectores
            nameSelect.value = '';
            typeSelect.value = 'autonumerico';
            constraintSelect.value = 'none';
            
            renderFieldsList(stepIndex, tableName);
            
            // Actualizar campos disponibles
            const step = steps[stepIndex];
            updateAvailableFields(stepIndex, step, tableName);
        }

        // Renderizar lista de campos
        function renderFieldsList(stepIndex, tableName) {
            const list = document.getElementById(`fieldsList${stepIndex}`);
            const fields = appState.tables[tableName];

            if (fields.length === 0) {
                list.innerHTML = '<p style="color: #999; padding: 20px; text-align: center;">No hay campos agregados a√∫n</p>';
                return;
            }

            // Mapeo de tipos de datos para mostrar
            const typeLabels = {
                'autonumerico': 'Autonum√©rico',
                'texto-corto': 'Texto Corto',
                'texto-largo': 'Texto Largo',
                'numero': 'N√∫mero',
                'moneda': 'Moneda',
                'fecha': 'Fecha',
                'fecha-hora': 'Fecha/Hora',
                'si-no': 'S√≠/No',
                'objeto-ole': 'Objeto OLE',
                'hipervinculo': 'Hiperv√≠nculo'
            };

            list.innerHTML = fields.map((field, index) => `
                <div class="field-item">
                    <span><strong>${field.name}</strong></span>
                    <span>${typeLabels[field.type] || field.type}</span>
                    <span>
                        ${field.constraint === 'primary' ? '<span class="badge badge-pk">PK</span>' : 
                          field.constraint === 'foreign' ? '<span class="badge badge-fk">FK</span>' : 
                          'Ninguna'}
                    </span>
                    <span></span>
                    <button class="btn-remove" onclick="removeField('${tableName}', ${index})">‚úï</button>
                </div>
            `).join('');
        }

        // Eliminar campo
        function removeField(tableName, index) {
            appState.tables[tableName].splice(index, 1);
            const stepIndex = tableName === 'productos' ? 0 : tableName === 'clientes' ? 1 : 2;
            renderFieldsList(stepIndex, tableName);
            
            // Actualizar campos disponibles
            const step = steps[stepIndex];
            updateAvailableFields(stepIndex, step, tableName);
        }

        // Validar tabla
        function validateTable(tableName, requiredFields) {
            const fields = appState.tables[tableName];
            
            // Verificar que existan todos los campos requeridos por nombre y restricci√≥n
            const isValid = requiredFields.every(req => {
                return fields.some(field => 
                    field.name.trim() === req.name.trim() && 
                    field.constraint === req.constraint
                );
            });
            
            // Debug: mostrar en consola qu√© falta
            if (!isValid) {
                console.log('Tabla:', tableName);
                console.log('Campos actuales:', fields);
                console.log('Campos requeridos:', requiredFields);
                
                requiredFields.forEach(req => {
                    const exists = fields.some(field => 
                        field.name.trim() === req.name.trim() && 
                        field.constraint === req.constraint
                    );
                    if (!exists) {
                        console.log('Falta:', req.name, 'con restricci√≥n:', req.constraint);
                    }
                });
            }
            
            return isValid;
        }

        // Renderizar paso de relaciones
        function renderRelationshipStep(container) {
            container.innerHTML = `
                <div style="background: #ff9800; color: #000; padding: 15px; border-radius: 8px; margin-bottom: 20px; border-left: 5px solid #f57c00;">
                    <h3 style="margin-bottom: 10px; color: #000;">‚ö†Ô∏è IMPORTANTE - Antes de Establecer Relaciones en Access:</h3>
                    <ol style="margin: 10px 0 10px 20px; line-height: 2;">
                        <li><strong>Cierra TODAS las tablas</strong> (Productos, Clientes y Compras)</li>
                        <li>No deben estar abiertas en ninguna vista (ni Dise√±o, ni Hoja de datos)</li>
                        <li>Solo entonces ve a: <strong>Herramientas de base de datos ‚Üí Relaciones</strong></li>
                        <li>Haz clic en <strong>"Mostrar tabla"</strong> y agrega las 3 tablas</li>
                    </ol>
                    <p style="margin-top: 10px; font-size: 0.95em;">
                        üí° <strong>Tip:</strong> Si una tabla no aparece en "Mostrar tabla", es porque est√° abierta. Ci√©rrala primero.
                    </p>
                </div>

                <div class="relationship-diagram">
                    <h3 style="margin-bottom: 30px; font-size: 1.5em;">Diagrama de Relaciones</h3>
                    
                    <div class="diagram-container">
                        <div class="table-box">
                            <h3>CLIENTES</h3>
                            <ul>
                                <li>üîë <strong>ID_Cliente (PK)</strong></li>
                                <li>C√≥digo_Cliente</li>
                                <li>Nombre_Completo</li>
                                <li>Empresa</li>
                                <li>...</li>
                            </ul>
                        </div>

                        <div style="text-align: center;">
                            <div class="arrow">‚Üí</div>
                            <div class="relationship-label">Uno a Muchos</div>
                        </div>

                        <div class="table-box">
                            <h3>COMPRAS</h3>
                            <ul>
                                <li>üîë <strong>ID_Compra (PK)</strong></li>
                                <li>üîó <strong>ID_Cliente (FK)</strong></li>
                                <li>üîó <strong>ID_Producto (FK)</strong></li>
                                <li>Fecha_Compra</li>
                                <li>...</li>
                            </ul>
                        </div>

                        <div style="text-align: center;">
                            <div class="arrow">‚Üê</div>
                            <div class="relationship-label">Uno a Muchos</div>
                        </div>

                        <div class="table-box">
                            <h3>PRODUCTOS</h3>
                            <ul>
                                <li>üîë <strong>ID_Producto (PK)</strong></li>
                                <li>C√≥digo_Producto</li>
                                <li>Nombre_Producto</li>
                                <li>Precio_Unitario</li>
                                <li>...</li>
                            </ul>
                        </div>
                    </div>

                    <div style="margin-top: 30px; padding: 20px; background: #2a2a2a; border-radius: 8px;">
                        <h4 style="color: #c41e3a; margin-bottom: 15px;">üìã Pasos para Establecer las Relaciones en Access:</h4>
                        <ol style="text-align: left; line-height: 2; margin-left: 20px;">
                            <li><strong>Cierra todas las tablas</strong> abiertas</li>
                            <li>Ve a: <strong>Herramientas de base de datos ‚Üí Relaciones</strong></li>
                            <li>Haz clic en <strong>"Mostrar tabla"</strong></li>
                            <li>Agrega las 3 tablas: PRODUCTOS, CLIENTES y COMPRAS</li>
                            <li><strong>Primera relaci√≥n:</strong> Arrastra <strong>ID_Cliente</strong> de CLIENTES hacia <strong>ID_Cliente</strong> en COMPRAS</li>
                            <li>Marca: ‚úÖ Exigir integridad referencial</li>
                            <li><strong>Segunda relaci√≥n:</strong> Arrastra <strong>ID_Producto</strong> de PRODUCTOS hacia <strong>ID_Producto</strong> en COMPRAS</li>
                            <li>Marca: ‚úÖ Exigir integridad referencial</li>
                            <li>Guarda las relaciones (Ctrl + S)</li>
                        </ol>
                    </div>

                    <div style="margin-top: 20px; padding: 15px; background: rgba(33, 150, 243, 0.1); border-left: 4px solid #2196F3; border-radius: 4px;">
                        <p style="color: #2196F3; margin: 0;">
                            <strong>‚ÑπÔ∏è Nota:</strong> Las claves for√°neas (ID_Cliente e ID_Producto) en la tabla COMPRAS deben ser tipo <strong>N√∫mero - Entero largo</strong> para que las relaciones funcionen correctamente.
                        </p>
                    </div>
                </div>
                <button class="btn-next" onclick="nextStep()">Continuar al Siguiente Paso ‚Üí</button>
            `;
        }

        // Renderizar paso de entrada de datos
        function renderDataStep(container, step) {
            const tableName = step.tableName;
            const tableFields = appState.tables[tableName];
            const completed = appState.dataEntries[tableName].length >= step.requiredCount;

            container.innerHTML = `
                <div class="data-entry">
                    <h3 style="margin-bottom: 20px; color: #c41e3a;">Ingreso de Datos - ${step.title}</h3>
                    <p style="color: #ccc; margin-bottom: 20px;">Debes agregar al menos ${step.requiredCount} registros</p>
                    
                    <div id="dataForm${tableName}" style="background: #2a2a2a; padding: 20px; border-radius: 8px; margin-bottom: 20px;">
                        ${tableFields.map(field => `
                            <div style="margin-bottom: 15px;">
                                <label style="display: block; margin-bottom: 5px; color: #c41e3a; font-weight: bold;">
                                    ${field.name}
                                    ${field.constraint === 'primary' ? '<span class="badge badge-pk">PK</span>' : ''}
                                    ${field.constraint === 'foreign' ? '<span class="badge badge-fk">FK</span>' : ''}
                                </label>
                                ${renderDataInput(field, tableName)}
                            </div>
                        `).join('')}
                        <button class="btn-add" onclick="addDataEntry('${tableName}', ${step.requiredCount})">+ Agregar Registro</button>
                    </div>

                    <div id="dataList${tableName}"></div>
                </div>
                <div class="alert ${completed ? 'success' : ''}" id="progressAlert${tableName}">
                    <strong>Progreso:</strong> ${appState.dataEntries[tableName].length} de ${step.requiredCount} registros completados
                </div>
                ${completed ? `
                    <div style="background: #1a1a1a; border: 2px solid #4CAF50; border-radius: 8px; padding: 20px; margin-top: 15px;" id="insertSQLBox${tableName}">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                            <h3 style="color: #4CAF50; margin: 0;">üìù Scripts INSERT para Access</h3>
                        </div>
                        
                        <div style="background: rgba(255, 152, 0, 0.1); border-left: 4px solid #ff9800; padding: 15px; border-radius: 4px; margin-bottom: 15px;">
                            <p style="color: #ff9800; font-size: 0.9em; margin: 0;"><strong>‚ö†Ô∏è IMPORTANTE:</strong> Access NO permite ejecutar m√∫ltiples INSERT a la vez. Debes copiar y ejecutar cada INSERT por separado, uno a la vez.</p>
                        </div>

                        ${(() => {
                            const data = appState.dataEntries[tableName];
                            return data.map((entry, index) => {
                                const fields = Object.keys(entry);
                                const values = Object.values(entry).map(val => {
                                    if (typeof val === 'number') return val;
                                    return `'${String(val).replace(/'/g, "''")}'`;
                                });
                                const sql = `INSERT INTO ${tableName.toUpperCase()} (${fields.join(', ')}) VALUES (${values.join(', ')});`;
                                
                                return `
                                    <div style="margin-bottom: 20px; background: #2a2a2a; padding: 15px; border-radius: 6px;">
                                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                                            <h4 style="color: #c41e3a; margin: 0;">Registro ${index + 1}</h4>
                                            <button class="btn-add" onclick="copySQL('insertSQL_${tableName}_${index}')" style="background: #c41e3a; padding: 6px 12px; font-size: 0.85em;">
                                                üìã Copiar
                                            </button>
                                        </div>
                                        <pre id="insertSQL_${tableName}_${index}" style="background: #0a0a0a; padding: 12px; border-radius: 4px; color: #4CAF50; overflow-x: auto; font-family: 'Courier New', monospace; font-size: 0.85em; margin: 0; white-space: pre-wrap; word-wrap: break-word;">${sql}</pre>
                                    </div>
                                `;
                            }).join('');
                        })()}

                        <div style="margin-top: 15px; padding: 15px; background: rgba(33, 150, 243, 0.1); border-left: 4px solid #2196F3; border-radius: 4px;">
                            <p style="color: #2196F3; font-size: 0.9em; margin: 0 0 10px 0;"><strong>üìã Instrucciones (ejecuta cada INSERT por separado):</strong></p>
                            <ol style="color: #2196F3; font-size: 0.85em; margin: 0; padding-left: 20px; line-height: 1.8;">
                                <li>Haz clic en <strong>"Copiar"</strong> del primer registro</li>
                                <li>En Access: <strong>Crear ‚Üí Dise√±o de consulta ‚Üí Cerrar "Mostrar tabla"</strong></li>
                                <li>Haz clic en <strong>Vista SQL</strong></li>
                                <li>Pega el c√≥digo y haz clic en <strong>Ejecutar</strong> (‚ö†Ô∏è rojo)</li>
                                <li><strong>Repite</strong> el proceso para cada registro siguiente</li>
                            </ol>
                        </div>
                    </div>
                ` : ''}
                <button class="btn-next" onclick="nextStep()">Continuar al Siguiente Paso ‚Üí</button>
            `;

            renderDataList(tableName);
        }

        // Renderizar input seg√∫n tipo de campo
        function renderDataInput(field, tableName) {
            const id = `input_${tableName}_${field.name}`;
            
            if (field.constraint === 'foreign') {
                // Para claves for√°neas, mostrar selector
                const refTable = field.name.includes('Cliente') ? 'clientes' : 'productos';
                const refData = appState.dataEntries[refTable];
                const refIdField = refTable === 'clientes' ? 'ID_Cliente' : 'ID_Producto';
                const refNameField = refTable === 'clientes' ? 'Nombre_Completo' : 'Nombre_Producto';
                
                if (refData.length === 0) {
                    return `<p style="color: #ff9800; padding: 10px; background: rgba(255, 152, 0, 0.1); border-radius: 4px;">
                        ‚ö†Ô∏è Primero debes agregar datos en la tabla ${refTable.toUpperCase()}
                    </p>`;
                }
                
                // Para ID_Producto en compras, agregar evento onchange
                const onchangeAttr = (tableName === 'compras' && field.name === 'ID_Producto') ? 
                    `onchange="calculatePrecioTotal('${tableName}')"` : '';
                
                return `
                    <select id="${id}" style="width: 100%;" ${onchangeAttr}>
                        <option value="">Seleccionar...</option>
                        ${refData.map(item => `
                            <option value="${item[refIdField]}" data-precio="${item.Precio_Unitario || 0}">${item[refIdField]} - ${item[refNameField]}</option>
                        `).join('')}
                    </select>
                `;
            }
            
            // Para Precio_Total en compras, hacerlo readonly
            if (tableName === 'compras' && field.name === 'Precio_Total') {
                return `<input type="number" id="${id}" step="0.01" style="width: 100%; background: #1a1a1a; cursor: not-allowed;" readonly placeholder="Se calcular√° autom√°ticamente">`;
            }
            
            // Para Cantidad en compras, agregar evento onchange
            if (tableName === 'compras' && field.name === 'Cantidad') {
                return `<input type="number" id="${id}" step="1" min="1" style="width: 100%;" onchange="calculatePrecioTotal('${tableName}')" oninput="calculatePrecioTotal('${tableName}')">`;
            }
            
            // Seg√∫n el tipo de dato
            if (field.type === 'fecha' || field.type === 'fecha-hora') {
                return field.type === 'fecha-hora' ? 
                    `<input type="datetime-local" id="${id}" style="width: 100%;">` :
                    `<input type="date" id="${id}" style="width: 100%;">`;
            }
            
            if (field.type === 'numero' || field.type === 'autonumerico' || field.type === 'moneda') {
                return `<input type="number" id="${id}" step="0.01" style="width: 100%;">`;
            }
            
            if (field.type === 'si-no') {
                return `
                    <select id="${id}" style="width: 100%;">
                        <option value="">Seleccionar...</option>
                        <option value="S√≠">S√≠</option>
                        <option value="No">No</option>
                    </select>
                `;
            }
            
            // Para Tipo_Cliente, ofrecer opciones
            if (field.name === 'Tipo_Cliente') {
                return `
                    <select id="${id}" style="width: 100%;">
                        <option value="">Seleccionar...</option>
                        <option value="Mayorista">Mayorista</option>
                        <option value="Minorista">Minorista</option>
                    </select>
                `;
            }
            
            // Para Estado, ofrecer opciones
            if (field.name === 'Estado') {
                return `
                    <select id="${id}" style="width: 100%;">
                        <option value="">Seleccionar...</option>
                        <option value="Pendiente">Pendiente</option>
                        <option value="Procesando">Procesando</option>
                        <option value="Completada">Completada</option>
                        <option value="Cancelada">Cancelada</option>
                    </select>
                `;
            }
            
            // Texto largo
            if (field.type === 'texto-largo') {
                return `<textarea id="${id}" rows="3" style="width: 100%; resize: vertical;"></textarea>`;
            }
            
            // Por defecto, texto
            return `<input type="text" id="${id}" style="width: 100%;">`;
        }

        // Calcular precio total autom√°ticamente
        function calculatePrecioTotal(tableName) {
            if (tableName !== 'compras') return;
            
            const productoSelect = document.getElementById('input_compras_ID_Producto');
            const cantidadInput = document.getElementById('input_compras_Cantidad');
            const precioTotalInput = document.getElementById('input_compras_Precio_Total');
            
            if (!productoSelect || !cantidadInput || !precioTotalInput) return;
            
            const selectedOption = productoSelect.options[productoSelect.selectedIndex];
            const precioUnitario = parseFloat(selectedOption.getAttribute('data-precio')) || 0;
            const cantidad = parseFloat(cantidadInput.value) || 0;
            
            if (precioUnitario > 0 && cantidad > 0) {
                const precioTotal = precioUnitario * cantidad;
                precioTotalInput.value = precioTotal.toFixed(2);
            } else {
                precioTotalInput.value = '';
            }
        }

        // Agregar registro de datos
        function addDataEntry(tableName, requiredCount) {
            const tableFields = appState.tables[tableName];
            const newEntry = {};

            // Verificar si hay campos con claves for√°neas que requieren datos previos
            if (tableName === 'compras') {
                if (appState.dataEntries.productos.length === 0) {
                    alert('‚ö†Ô∏è Primero debes agregar productos antes de registrar compras');
                    return;
                }
                if (appState.dataEntries.clientes.length === 0) {
                    alert('‚ö†Ô∏è Primero debes agregar clientes antes de registrar compras');
                    return;
                }
            }

            // Recopilar datos del formulario
            for (const field of tableFields) {
                const inputId = `input_${tableName}_${field.name}`;
                const input = document.getElementById(inputId);
                
                if (!input) continue;
                
                const value = input.tagName === 'TEXTAREA' ? input.value.trim() : input.value.trim();

                // Para Precio_Total en compras, permitir que est√© vac√≠o si se calcul√≥
                if (tableName === 'compras' && field.name === 'Precio_Total') {
                    if (!value) {
                        alert('‚ö†Ô∏è El Precio Total no se ha calculado. Verifica que hayas seleccionado un producto y una cantidad.');
                        return;
                    }
                    newEntry[field.name] = parseFloat(value);
                    continue;
                }

                if (!value) {
                    alert(`Por favor completa el campo: ${field.name}`);
                    return;
                }

                // Convertir seg√∫n tipo
                if (field.type === 'numero' || field.type === 'autonumerico' || field.type === 'moneda') {
                    newEntry[field.name] = parseFloat(value);
                } else {
                    newEntry[field.name] = value;
                }
            }

            // Validar ID √∫nico
            const idField = tableFields.find(f => f.constraint === 'primary').name;
            if (appState.dataEntries[tableName].some(e => e[idField] === newEntry[idField])) {
                alert('Ya existe un registro con ese ID');
                return;
            }

            appState.dataEntries[tableName].push(newEntry);

            // Limpiar formulario
            for (const field of tableFields) {
                const inputId = `input_${tableName}_${field.name}`;
                const input = document.getElementById(inputId);
                if (input) {
                    input.value = '';
                }
            }

            renderDataList(tableName);
            
            // Actualizar contador
            const progressAlert = document.getElementById(`progressAlert${tableName}`);
            const completed = appState.dataEntries[tableName].length >= requiredCount;
            
            if (progressAlert) {
                progressAlert.className = `alert ${completed ? 'success' : ''}`;
                progressAlert.innerHTML = `<strong>Progreso:</strong> ${appState.dataEntries[tableName].length} de ${requiredCount} registros completados`;
            }
            
            // Si se complet√≥ el m√≠nimo requerido y no existe el cuadro SQL, agregarlo
            if (completed) {
                const existingBox = document.getElementById(`insertSQLBox${tableName}`);
                if (!existingBox) {
                    const progressAlert = document.getElementById(`progressAlert${tableName}`);
                    const insertHTML = `
                        <div style="background: #1a1a1a; border: 2px solid #4CAF50; border-radius: 8px; padding: 20px; margin-top: 15px;" id="insertSQLBox${tableName}">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                                <h3 style="color: #4CAF50; margin: 0;">üìù Scripts INSERT para Access</h3>
                            </div>
                            
                            <div style="background: rgba(255, 152, 0, 0.1); border-left: 4px solid #ff9800; padding: 15px; border-radius: 4px; margin-bottom: 15px;">
                                <p style="color: #ff9800; font-size: 0.9em; margin: 0 0 8px 0;"><strong>‚ö†Ô∏è IMPORTANTE:</strong> Access NO permite ejecutar m√∫ltiples INSERT a la vez. Debes copiar y ejecutar cada INSERT por separado, uno a la vez.</p>
                                <p style="color: #ff9800; font-size: 0.85em; margin: 0;"><strong>‚ÑπÔ∏è Nota:</strong> El campo ID (clave primaria autonum√©rica) NO se incluye en el INSERT porque Access lo genera autom√°ticamente.</p>
                            </div>

                            <div id="insertsList${tableName}"></div>

                            <div style="margin-top: 15px; padding: 15px; background: rgba(33, 150, 243, 0.1); border-left: 4px solid #2196F3; border-radius: 4px;">
                                <p style="color: #2196F3; font-size: 0.9em; margin: 0 0 10px 0;"><strong>üìã Instrucciones (ejecuta cada INSERT por separado):</strong></p>
                                <ol style="color: #2196F3; font-size: 0.85em; margin: 0; padding-left: 20px; line-height: 1.8;">
                                    <li>Haz clic en <strong>"Copiar"</strong> del primer registro</li>
                                    <li>En Access: <strong>Crear ‚Üí Dise√±o de consulta ‚Üí Cerrar "Mostrar tabla"</strong></li>
                                    <li>Haz clic en <strong>Vista SQL</strong></li>
                                    <li>Pega el c√≥digo y haz clic en <strong>Ejecutar</strong> (‚ö†Ô∏è rojo)</li>
                                    <li><strong>Repite</strong> el proceso para cada registro siguiente</li>
                                </ol>
                            </div>
                        </div>
                    `;
                    progressAlert.insertAdjacentHTML('afterend', insertHTML);
                    updateInsertsList(tableName);
                } else {
                    // Si ya existe, actualizar la lista
                    updateInsertsList(tableName);
                }
            }
        }

        // Renderizar lista de datos
        function renderDataList(tableName) {
            const list = document.getElementById(`dataList${tableName}`);
            const data = appState.dataEntries[tableName];

            if (data.length === 0) {
                list.innerHTML = '<p style="color: #999; padding: 20px; text-align: center;">No hay registros agregados a√∫n</p>';
                return;
            }

            list.innerHTML = `
                <h4 style="color: #c41e3a; margin: 20px 0;">Registros Guardados (${data.length})</h4>
                ${data.map((entry, index) => `
                    <div class="data-grid" style="margin-bottom: 15px; padding: 15px; background: #2a2a2a; border-radius: 8px;">
                        ${Object.entries(entry).map(([key, value]) => `
                            <div class="data-item">
                                <h4>${key}</h4>
                                <p>${value}</p>
                            </div>
                        `).join('')}
                        <div style="grid-column: 1 / -1;">
                            <button class="btn-remove" onclick="removeDataEntry('${tableName}', ${index})">Eliminar Registro</button>
                        </div>
                    </div>
                `).join('')}
            `;
        }

        // Actualizar lista de INSERTs
        function updateInsertsList(tableName) {
            const insertsList = document.getElementById(`insertsList${tableName}`);
            if (!insertsList) return;
            
            const data = appState.dataEntries[tableName];
            const tableFields = appState.tables[tableName];
            
            // Obtener el campo de clave primaria para excluirlo
            const pkField = tableFields.find(f => f.constraint === 'primary');
            
            insertsList.innerHTML = data.map((entry, index) => {
                // Filtrar campos: excluir la clave primaria autonum√©rica
                const fields = Object.keys(entry).filter(key => key !== pkField.name);
                const values = fields.map(field => {
                    const val = entry[field];
                    if (typeof val === 'number') return val;
                    return `'${String(val).replace(/'/g, "''")}'`;
                });
                const sql = `INSERT INTO ${tableName.toUpperCase()} (${fields.join(', ')}) VALUES (${values.join(', ')});`;
                
                return `
                    <div style="margin-bottom: 20px; background: #2a2a2a; padding: 15px; border-radius: 6px;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                            <h4 style="color: #c41e3a; margin: 0;">Registro ${index + 1}</h4>
                            <button class="btn-add" onclick="copySQL('insertSQL_${tableName}_${index}')" style="background: #c41e3a; padding: 6px 12px; font-size: 0.85em;">
                                üìã Copiar
                            </button>
                        </div>
                        <pre id="insertSQL_${tableName}_${index}" style="background: #0a0a0a; padding: 12px; border-radius: 4px; color: #4CAF50; overflow-x: auto; font-family: 'Courier New', monospace; font-size: 0.85em; margin: 0; white-space: pre-wrap; word-wrap: break-word;">${sql}</pre>
                    </div>
                `;
            }).join('');
        }

        // Eliminar registro de datos
        function removeDataEntry(tableName, index) {
            if (confirm('¬øEst√°s seguro de eliminar este registro?')) {
                appState.dataEntries[tableName].splice(index, 1);
                renderDataList(tableName);
                
                // Actualizar contador
                const step = steps.find(s => s.tableName === tableName);
                const progressAlert = document.getElementById(`progressAlert${tableName}`);
                const completed = appState.dataEntries[tableName].length >= step.requiredCount;
                
                if (progressAlert) {
                    progressAlert.className = `alert ${completed ? 'success' : ''}`;
                    progressAlert.innerHTML = `<strong>Progreso:</strong> ${appState.dataEntries[tableName].length} de ${step.requiredCount} registros completados`;
                }
                
                // Actualizar o eliminar el cuadro INSERT
                const insertBox = document.getElementById(`insertSQLBox${tableName}`);
                if (completed && insertBox) {
                    // Actualizar la lista
                    updateInsertsList(tableName);
                } else if (!completed && insertBox) {
                    // Eliminar el cuadro si ya no se cumple el m√≠nimo
                    insertBox.remove();
                }
            }
        }

        // Renderizar resumen final
        function renderSummaryStep(container) {
            const score = calculateScore();
            const percentage = (score.current / score.max) * 100;
            
            container.innerHTML = `
                <div class="summary-section">
                    <h3 style="color: #c41e3a; font-size: 1.8em; margin-bottom: 25px; text-align: center;">
                        üéâ ¬°Base de Datos Completada!
                    </h3>
                    
                    <!-- Panel de Puntuaci√≥n -->
                    <div style="background: linear-gradient(135deg, #c41e3a 0%, #8b0000 100%); border-radius: 15px; padding: 40px; text-align: center; margin-bottom: 30px; box-shadow: 0 8px 20px rgba(196, 30, 58, 0.3);">
                        <h2 style="color: #fff; margin: 0 0 10px 0; font-size: 3em;">‚≠ê ${score.current} / ${score.max}</h2>
                        <p style="color: #fff; font-size: 1.5em; margin: 0;">Puntos Obtenidos</p>
                        <div style="margin: 20px 0; padding: 15px; background: rgba(255,255,255,0.2); border-radius: 10px;">
                            <p style="color: #fff; font-size: 1.1em; margin: 0;">Porcentaje: ${percentage.toFixed(1)}%</p>
                        </div>
                        ${percentage >= 90 ? '<p style="color: #fff; font-size: 1.2em; margin: 15px 0 0 0;">üèÜ ¬°Excelente trabajo!</p>' :
                          percentage >= 70 ? '<p style="color: #fff; font-size: 1.2em; margin: 15px 0 0 0;">üëè ¬°Muy bien!</p>' :
                          '<p style="color: #fff; font-size: 1.2em; margin: 15px 0 0 0;">üí™ ¬°Buen esfuerzo!</p>'}
                    </div>

                    <!-- Desglose de Puntos -->
                    <div style="background: #2a2a2a; border-radius: 10px; padding: 25px; margin-bottom: 30px;">
                        <h3 style="color: #c41e3a; margin-bottom: 20px;">üìä Desglose de Puntuaci√≥n</h3>
                        ${steps.map((step, index) => `
                            <div style="display: flex; justify-content: space-between; align-items: center; padding: 12px; margin: 8px 0; background: ${index < appState.currentStep ? 'rgba(76, 175, 80, 0.1)' : '#1a1a1a'}; border-radius: 6px; border-left: 4px solid ${index < appState.currentStep ? '#4CAF50' : '#555'};">
                                <div>
                                    <strong>${index + 1}. ${step.title}</strong>
                                    <div style="color: #999; font-size: 0.9em;">${step.description}</div>
                                </div>
                                <div style="background: ${index < appState.currentStep ? '#4CAF50' : '#555'}; color: white; padding: 6px 15px; border-radius: 20px; font-weight: bold;">
                                    ${index < appState.currentStep ? '‚úì ' : ''}${step.points > 0 ? step.points.toFixed(2) + ' ptos' : 'Resumen'}
                                </div>
                            </div>
                        `).join('')}
                    </div>
                    
                    <div class="summary-grid">
                        <div class="summary-card">
                            <h3>üìä Tablas Creadas</h3>
                            <div class="number">3</div>
                            <p style="color: #ccc; margin-top: 10px;">Productos, Clientes, Compras</p>
                        </div>
                        
                        <div class="summary-card">
                            <h3>üè∑Ô∏è Productos Registrados</h3>
                            <div class="number">${appState.dataEntries.productos.length}</div>
                            <p style="color: #ccc; margin-top: 10px;">Productos en cat√°logo</p>
                        </div>
                        
                        <div class="summary-card">
                            <h3>üë• Clientes Registrados</h3>
                            <div class="number">${appState.dataEntries.clientes.length}</div>
                            <p style="color: #ccc; margin-top: 10px;">Clientes en base de datos</p>
                        </div>
                        
                        <div class="summary-card">
                            <h3>üõí Compras Registradas</h3>
                            <div class="number">${appState.dataEntries.compras.length}</div>
                            <p style="color: #ccc; margin-top: 10px;">Transacciones completadas</p>
                        </div>
                    </div>

                    <div style="margin-top: 30px; padding: 25px; background: #2a2a2a; border-radius: 8px;">
                        <h3 style="color: #c41e3a; margin-bottom: 20px;">üìã Estructura de la Base de Datos</h3>
                        
                        <div style="margin-bottom: 25px;">
                            <h4 style="color: #fff; margin-bottom: 10px;">Tabla PRODUCTOS (${appState.tables.productos.length} campos)</h4>
                            <div style="color: #ccc; line-height: 1.8;">
                                ${appState.tables.productos.map(f => `
                                    <span style="display: inline-block; margin: 5px; padding: 5px 10px; background: #1a1a1a; border-radius: 4px;">
                                        ${f.name} 
                                        ${f.constraint === 'primary' ? '<span class="badge badge-pk">PK</span>' : ''}
                                    </span>
                                `).join('')}
                            </div>
                        </div>

                        <div style="margin-bottom: 25px;">
                            <h4 style="color: #fff; margin-bottom: 10px;">Tabla CLIENTES (${appState.tables.clientes.length} campos)</h4>
                            <div style="color: #ccc; line-height: 1.8;">
                                ${appState.tables.clientes.map(f => `
                                    <span style="display: inline-block; margin: 5px; padding: 5px 10px; background: #1a1a1a; border-radius: 4px;">
                                        ${f.name}
                                        ${f.constraint === 'primary' ? '<span class="badge badge-pk">PK</span>' : ''}
                                    </span>
                                `).join('')}
                            </div>
                        </div>

                        <div style="margin-bottom: 25px;">
                            <h4 style="color: #fff; margin-bottom: 10px;">Tabla COMPRAS (${appState.tables.compras.length} campos)</h4>
                            <div style="color: #ccc; line-height: 1.8;">
                                ${appState.tables.compras.map(f => `
                                    <span style="display: inline-block; margin: 5px; padding: 5px 10px; background: #1a1a1a; border-radius: 4px;">
                                        ${f.name}
                                        ${f.constraint === 'primary' ? '<span class="badge badge-pk">PK</span>' : 
                                          f.constraint === 'foreign' ? '<span class="badge badge-fk">FK</span>' : ''}
                                    </span>
                                `).join('')}
                            </div>
                        </div>
                    </div>

                    <!-- Bot√≥n de Enviar y Generar PDF -->
                    <div style="text-align: center; margin-top: 40px;">
                        <button onclick="generatePDF()" style="background: linear-gradient(135deg, #4CAF50 0%, #2e7d32 100%); color: white; border: none; padding: 20px 50px; font-size: 1.3em; font-weight: bold; border-radius: 10px; cursor: pointer; box-shadow: 0 6px 20px rgba(76, 175, 80, 0.4); transition: all 0.3s ease;" onmouseover="this.style.transform='translateY(-3px)'" onmouseout="this.style.transform='translateY(0)'">
                            üìÑ Enviar Actividad y Descargar PDF
                        </button>
                        <p style="margin-top: 15px; color: #999; font-size: 0.9em;">
                            Genera un PDF con tus resultados completos para entregar a tu profesor
                        </p>
                    </div>

                    <div class="alert success" style="margin-top: 25px; text-align: center; font-size: 1.1em;">
                        ‚úÖ Has completado exitosamente el dise√±o e implementaci√≥n de la base de datos del sistema de compras
                    </div>
                </div>
            `;
        }

        // Siguiente paso
        function nextStep() {
            const currentStepObj = steps[appState.currentStep];
            
            // Validar paso actual
            if (!currentStepObj.validate()) {
                // Mensaje espec√≠fico seg√∫n el tipo de paso
                if (currentStepObj.type === 'data') {
                    alert(`‚ö†Ô∏è Necesitas agregar ${currentStepObj.requiredCount} registros. Actualmente tienes ${appState.dataEntries[currentStepObj.tableName].length}.`);
                } else if (currentStepObj.requiredFields) {
                    // Verificar qu√© campos faltan
                    const tableName = appState.currentStep === 0 ? 'productos' : appState.currentStep === 1 ? 'clientes' : 'compras';
                    const missingFields = [];
                    
                    currentStepObj.requiredFields.forEach(req => {
                        const exists = appState.tables[tableName].some(field => 
                            field.name.trim() === req.name.trim() && 
                            field.constraint === req.constraint
                        );
                        if (!exists) {
                            missingFields.push(`${req.name} ${req.constraint === 'primary' ? '(PK)' : req.constraint === 'foreign' ? '(FK)' : ''}`);
                        }
                    });
                    
                    if (missingFields.length > 0) {
                        alert(`‚ö†Ô∏è Te faltan los siguientes campos:\n\n${missingFields.join('\n')}\n\nRevisa el cuadro amarillo para ver todos los campos requeridos.`);
                    } else {
                        alert('‚ö†Ô∏è Por favor completa todos los requisitos del paso actual antes de continuar');
                    }
                } else {
                    alert('‚ö†Ô∏è Por favor completa todos los requisitos del paso actual antes de continuar');
                }
                return;
            }

            if (appState.currentStep < steps.length - 1) {
                appState.currentStep++;
                renderSteps();
                updateProgress();
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }
        }

        // Actualizar barra de progreso
        function updateProgress() {
            const progress = ((appState.currentStep + 1) / steps.length) * 100;
            const progressBar = document.getElementById('progressBar');
            const score = calculateScore();
            
            progressBar.style.width = progress + '%';
            progressBar.innerHTML = `
                <div style="display: flex; justify-content: space-between; padding: 0 15px; width: 100%;">
                    <span>${Math.round(progress)}% Completado</span>
                    <span>‚≠ê ${score.current}/${score.max} puntos</span>
                </div>
            `;
        }

        // Iniciar aplicaci√≥n
        init();
    </script>
</body>
</html>
